import json

from graphene.test import Client
from rest_framework import status
from rest_framework.test import APITestCase, APIClient

from django_graphql.schema import schema


class UserTestCase(APITestCase):

    def setUp(self) -> None:
        pass

    def test_get_query(self):
        # given
        query = """
        {
          users(first:5)
        
          {
            pageInfo {
              hasNextPage
              hasPreviousPage
              startCursor
              endCursor
            }
            edges {
              node {
                id
                username
                email
                articleCount
              }
              cursor
            }
            totalCount
            edgeCount
          }
        }
        """
        # when
        client = Client(schema)
        result = client.execute(query)
        print(result)

        # then
